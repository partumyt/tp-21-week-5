# tp-21-week-5


  СІХ! Дорогі асистенти, це останній тиждень, коли ви матимете можливість споглядати наш код і прекрасний звіт.

  Ми тренували нашого любого друга протягом двох місяців, але важко дорівнятися до ідеалу (до нас - ха-ха), тому знову розбиратимемо його помилки.

1. Функція read_file(pathname: str, year: int=0)

  Chat GPT написав прекрасний код, лише для зчитування першого, нам не потрібного рядка, він створив окрему змінну, що потім ніде не викоритовується. Це не дуже хороший підхід, адже можна було використати file.readline(), як ми і зробили, що не використову зайвої пам'яті.

3. Функція top_n(data: list, genre: str='', n:int=0)

  Наша реалізація функції є в двох варіантах: простіший та покращений з використанням словників.
  
  Взагалі chat gpt використав lambda функцію (small anonymous function) у своєму коді, ми виправили це додатковим промптом.
  Основна відмінність між нашим кодом та ШІ — це обрахування максимального балу для акторів. Як і в нашому простішому варіанті, ChatGPT рахує максимальний бал кожного актора на кожній ітерації по фільмах. Також він фільтрує фільми за жанром окремою дією, а потім ітерується по ним. Наш оптимізований варіант визначає максимальний рейтинг для кожного актора окремо, уникаючи повторення розрахунків, тому є оптимізованим. А фільтрування не застосовується, бо для фільтрації всеодно треба зробити ітерацію по всіх фільмах.
  Також return statement в ШІ записано дуже заплутано, що погіршує сприйняття коду і треба витратити чимало часу, щоб розібратися, що саме відбувається, як має поводитись програма і чи не виникне десь помилка.

5. Функція write_file(top: list, file_name: str)

  Тут наш друг постарався: структура нашого коду та коду ChatGPT ідентична, єдина суттєва відмінність - це відсутність encoding в коді AI. Тому ми вирішили навчити його, щоб надалі він так не помилявся, напрямивши його роздуми в правильне русло, отримали:
   
"""
   Використання encoding='utf-8' гарантує, що файл буде написано в UTF-8, що є загальноприйнятим стандартним кодуванням, яке підтримує широкий діапазон символів з різних мов. 
Chat GPT
"""

Крім того, він досі не навчився, що в доктестах треба писати не просто \n, а \\n, тому його доктест не працював, але ми сподіваємося, що він рано чи пізно до цього дійде. Ну і ще одна дрібничка, він забув дописати в тайпхінтінгу None, як тип значення, що повертається.


Дякуємо за увагу! Ми будемо дуже сумувати за вами...
Але ми не полишимо сумувати нашого старого-нового друга.
